---
title: "第一章 计算机网络和因特网"
description: ""
lead: ""
date: 2021-04-09T23:04:06+08:00
lastmod: 2021-04-09T23:04:06+08:00
draft: false
images: []
menu: 
  docs:
    parent: "computer-network"
weight: 8
toc: true
---

## 1.1 什么是因特网

### 1.1.1 具体构成描述

+ 主机或端系统
  + 端系统之间通过**通信链路**和**分组交换机**连接到一起
+ 当一台端系统要向另一台端系统发送数据时，发送端系统将数据分段，并为每段加上首部字节。由此形成的信息包称为**分组**
+ 两种著名的分组交换机类型：**路由器**和**链路层交换机**
+ 链路层交换机通常用于接入网中，而路由器通常用于网络核心中
+ 从发送端系统到接受端系统，一个分组所经历的一系列通信链路和分组交换机称为通过该网络的**路径**
+ 端系统通过**因特网服务提供商**（ISP）接入因特网
  + 较高层的ISP是由通过高速光纤链路互联的高速路由器组成的
+ 端系统、分组交换机和其他因特网部件都要运行一系列**协议**：TCP/IP
+ 因特网标准：请求评论（RFC）

### 1.1.2 服务描述

+ 分布式应用程序：涉及多个相互交换数据的端系统的应用程序
+ 套接字接口：规定了运行在一个端系统上的程序请求因特网基础设施向运行在另一个端系统上的特定目的地程序交付数据的方式

### 1.1.3 什么是协议

+ 协议定义了在两个或多个通信实体之间交换的报文的格式和顺序，以及报文发送和/或接收一条报文或其他事件所采取的行动

## 1.2 网络边缘

+ 主机的进一步划分：客户和服务器（client and server）

### 1.2.1 接入网

+ 接入网：将端系统物理连接到其边缘路由器的网络
+ 边缘路由器：端系统到任何其他远程端系统路径上的第一台路由器

#### 1. 家庭接入：DSL、电缆、FTTH、拨号和卫星

+ DSL：数字用户线
+ DSLAM：接入复用器，将模拟信号转为数字信号
+ DSL利用电话公司现有的本地电话基础设施，而电缆因特网接入利用了有线电视公司现有的有线电视基础设施
+ 光纤和电缆混合使用：混合光纤同轴系统（HFC）
+ 光纤到户（FTTH）：从本地中心局直接到家庭提供了一条光纤路径
+ 光纤分布体系结构：主动光纤网路（AON）和被动光纤网络（PON）

#### 2. 企业（和家庭）接入：以太网和WIFI

#### 3. 广域无线接入：3G和LTE

### 1.2.2 物理媒体

+ 物理媒体的两种类型：引导型媒体和非引导型媒体
  + 引导型媒体：电波沿着固体媒体前行
  + 非引导型媒体：电波在空气或者外层空间中传播

1. 双绞铜线
   + 数据传输速率取决于线的粗细以及传输方和接收方之间的距离
2. 同轴线缆
   + 同轴电缆能被用作引导型共享媒体
3. 光纤
   + 不受电磁波干扰
   + 信号衰减低
   + 很难窃听
   + 成本高
   + 光载波标准链路速率$OC-n$，速率为$n\times 51.8 Mbps$
4. 陆地无线电信道
   + 运行在很短距离
   + 运行在局域
   + 运行在广域
5. 卫星无线电信道
   + 同步卫星
   + 近地轨道卫星

## 1.3 网络核心

### 1.3.1 分组交换

+ 在各种网络应用中，端系统彼此交换报文
+ 为了从源端系统到目的端系统发送一个报文，源将报文划分为较小的数据块，称之为**分组**

#### 1. 存储转发传输

+ 存储转发传输：在交换机能够开始向传输链路传输该分组的第一个比特之前，必须接收到整个分组
+ 链路传输速率$R$，每个分组长度为$L$，通过由$N$条链路组成的路径，端到端的时延为
  $$
  d_{端到端}=N\frac{L}{R}
  $$

#### 2. 排队时延和分组丢失

+ 输出缓存（输出队列）：用于存储路由器准备发往那条链路的分组
+ 除了存储转发时延以外，分组还要承受输出缓存的排队时延
+ 因为缓存空间的大小是有限的，一个到达的分组可能发现该缓存已被其他等待传输的分组完全充满了，在此情况下，将出现分组丢包，到达的分组或排队的分组之一将被丢弃
  
#### 3. 转发表和路由器选择协议

+ 每个端系统具有一个称为IP地址的地址
+ 每台路由器具有一个转发表，用于将目的地址映射成为输出链路
+ 路由选择协议：用于自动地设置转发表

### 1.3.2 电路交换

+ 通过网络链路和交换机移动数据有两种基本方法：电路交换和分组交换

#### 1. 电路交换网络中的复用

+ 链路中的电路是通过频分复用（FDM）或时分复用（TDM）来实现的
+ FDM：链路的频谱由跨越链路创建的所有连接共享
+ 带宽：频段的宽度
+ TDM：时间被划分为固定期间的帧，并且每个帧又被划分为固定数量的时隙

#### 2. 分组交换网络与电路交换网络的对比

+ 分组交换网比作公路网，电路交换网比作铁路网
+ 分组交换端到端的时延是不可预测的
+ 分组交换提供了比电路交换更好的带宽共享；它比电路交换更简单、更有效，实现成本更低

### 1.3.3 网络的网络

+ 通过创建网络的网络使得接入ISP自身互联
+ 网络结构1：用单一的全球传输ISP互联所有接入ISP
+ 接入ISP被认为是客户，而全球传输ISP被认为是提供商
+ 网络结构2：由数十万个接入ISP和多个全球传输ISP组成
+ 网络结构3：区域ISP，第一层ISP
+ 网络结构4：由接入ISP，区域ISP，第一层ISP，PoP，多宿，对等和IXP组成
+ 网络结构5：在网络结构4顶部增加**内容提供商网络**

## 1.4 分组交换网中的时延、丢包和吞吐量

### 1.4.1 分组交换中的时延概述

+ 几种不同类型的时延：节点处理时延，排队时延，传输时延和传播时延，加起来成为节点总时延
+ 处理时延：检查分组首部和决定将该分组导向何处所需要的时间是处理时延的一部分，另外还可能有检查比特级别的差错所需要的时间
+ 排队时延：在队列中，当分组在链路上等待传输时，它经受排队时延
+ 传播时延：从链路的起点到路由器B传播所需要的时间是传播时延
+ 传输时延和传播时延的比较：传输时延是路由器推出分组所需要的时间，它是分组长度和链路传输速率的函数，而与两台路由器之间的距离无关。传播时延是一个比特从一台路由器传播到另一台路由器所需要的时间，它是两台路由器之间距离的函数，而与分组长度或链路传输速率无关。

### 1.4.2 排队时延和丢包

+ $\alpha$表示分组到达的平均速率
+ $R$是传输速率
+ 假设所有分组都是由$L$比特组成
+ 流量强度$L\alpha / R$
+ 流量强度大于1，比特到达队列的平均速率超过从该队列传输出去的速率，队列增加，排队时延增大

### 1.4.3 端到端时延

### 1.4.4 计算机网络中的吞吐量

+ 瞬时吞吐量：主机接收文件的瞬时速率
+ 文件传输路径上各链路速率的最小值

## 1.5 协议层次及其服务类型

### 1.5.1 分层的体系结构

1. 协议分层
   + 网络设计设以**分层**的方式组织协议以及实现这些协议的网络硬件和软件
   + 各层的所有协议被称为协议栈：
  
     | 5层因特网协议栈 |
     | --------------- |
     | 应用层          |
     | 运输层          |
     | 网络层          |
     | 链路层          |
     | 物理层          |
     {.table-striped}
   + 应用层
     + 应用层是网络应用程序及它们的应用层协议存留的地方
     + HTTP，SMTP，FTP，DNS（域名系统）
     + 位于应用层的信息分组称为**报文**
   + 运输层
     + 因特网的运输层在应用程序端点之间传送应用层报文
     + TCP，UDP
     + 运输层的分组称为报文段
   + 网络层
     + 网络层分组：数据报
     + 因特网的网络层负责将称为数据包的网络层分组从一台主机移动到另一台主机
     + 网际协议IP，路由选择协议
     + IP是将因特网连接在一起的黏合剂
   + 链路层
     + 因特网中的网络层通过源和目的地之间的一系列路由器路由数据包
     + 包括以太网、WIFI和电缆接入网的DOCSIS协议
     + 链路层的分组：帧
   + 物理层
     + 将帧中的一个个比特从一个节点移动到下一个节点

2. OSI模型

   + 7层ISO OSI参考模型

      | 7层ISO OSI参考模型|
      |------------------|
      |应用层|
      |表示层|
      |会话层|
      |运输层|
      |网络层|
      |链路层|
      |物理层|
      {.table-striped}
   + 表示层：使通信的应用程序能够解释交换数据的含义
   + 会话层：提供了数据交换的定界和同步功能，包括了建立检查点和恢复方案的方法

### 1.5.2 封装

+ 链路层交换机实现了协议栈中的第一层和第二层
+ 路由器实现了协议栈中的第一层到第三层
+ 主机实现了所有5各层次，因特网体系结构将它的复杂性放在网络边缘

## 1.6 面对攻击的网络

+ 僵尸网络
+ DoS攻击
  + 弱点攻击
  + 带宽洪泛
  + 连接洪泛：攻击者在目标主机中创建大量的半开或全开的TCP连接，使得该主机停止接受合法连接。
+ 嗅探分组：分组嗅探器
+ IP哄骗：将具有虚假源地址的分组注入因特网的能力
+ 端点鉴别

## 1.7 计算机网络和因特网的历史

+ 1.7.1 分组交换的发展：1961~1972
+ 1.7.2 专用网络和网络互联：1972~1980
+ 1.7.3 网络的激增：1980~1990
+ 1.7.4 因特网爆炸：20世纪90年代
